{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yueyu\\\\OneDrive\\\\CardiIQ\\\\frontend\\\\src\\\\components\\\\PPGMonitor.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport './PPGMonitor.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PPGMonitor = ({\n  onMeasurementComplete,\n  user\n}) => {\n  _s();\n  const [isRecording, setIsRecording] = useState(false);\n  const [sessionId, setSessionId] = useState(null);\n  const [currentMetrics, setCurrentMetrics] = useState(null);\n  const [sessionAnalysis, setSessionAnalysis] = useState(null);\n  const [error, setError] = useState(null);\n  const [cameraStream, setCameraStream] = useState(null);\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const intervalRef = useRef(null);\n  const API_BASE = 'http://localhost:5000/api';\n\n  // Start camera and PPG session\n  const startPPGSession = async () => {\n    try {\n      setError(null);\n\n      // Request camera access\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: {\n          width: {\n            ideal: 640\n          },\n          height: {\n            ideal: 480\n          },\n          facingMode: 'user'\n        }\n      });\n      setCameraStream(stream);\n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n      }\n\n      // Start PPG session on backend\n      const response = await fetch(`${API_BASE}/ppg/start-session`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      const data = await response.json();\n      if (data.success) {\n        setSessionId(data.session_id);\n        setIsRecording(true);\n\n        // Start capturing frames\n        startFrameCapture();\n      } else {\n        throw new Error(data.error);\n      }\n    } catch (err) {\n      setError(`Failed to start PPG session: ${err.message}`);\n      console.error('PPG session error:', err);\n    }\n  };\n\n  // Capture and send frames to backend\n  const startFrameCapture = () => {\n    intervalRef.current = setInterval(async () => {\n      if (videoRef.current && canvasRef.current && isRecording) {\n        const canvas = canvasRef.current;\n        const context = canvas.getContext('2d');\n\n        // Set canvas size\n        canvas.width = videoRef.current.videoWidth;\n        canvas.height = videoRef.current.videoHeight;\n\n        // Draw current frame to canvas\n        context.drawImage(videoRef.current, 0, 0);\n\n        // Convert to base64\n        const frameData = canvas.toDataURL('image/jpeg', 0.8).split(',')[1];\n        try {\n          // Send frame to backend\n          const response = await fetch(`${API_BASE}/ppg/upload-frame`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              frame_data: frameData\n            })\n          });\n          const result = await response.json();\n          if (result.success) {\n            setCurrentMetrics(result.data.metrics);\n          }\n        } catch (err) {\n          console.error('Frame upload error:', err);\n        }\n      }\n    }, 100); // Capture every 100ms (10 fps)\n  };\n\n  // Stop PPG session\n  const stopPPGSession = async () => {\n    try {\n      setIsRecording(false);\n\n      // Stop frame capture\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n        intervalRef.current = null;\n      }\n\n      // Stop camera stream\n      if (cameraStream) {\n        cameraStream.getTracks().forEach(track => track.stop());\n        setCameraStream(null);\n      }\n\n      // Stop session on backend\n      const response = await fetch(`${API_BASE}/ppg/stop-session`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      const data = await response.json();\n      if (data.success) {\n        // Get session analysis\n        await getSessionAnalysis();\n      }\n    } catch (err) {\n      setError(`Failed to stop PPG session: ${err.message}`);\n      console.error('Stop session error:', err);\n    }\n  };\n\n  // Get session analysis\n  const getSessionAnalysis = async () => {\n    try {\n      const response = await fetch(`${API_BASE}/ppg/analyze-session`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      const data = await response.json();\n      if (data.success) {\n        setSessionAnalysis(data.analysis);\n\n        // Call parent component's callback to save to Firebase\n        if (onMeasurementComplete) {\n          onMeasurementComplete(data.analysis);\n        }\n      }\n    } catch (err) {\n      console.error('Analysis error:', err);\n    }\n  };\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      if (cameraStream) {\n        cameraStream.getTracks().forEach(track => track.stop());\n      }\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n      }\n    };\n  }, [cameraStream]);\n  const renderMetrics = () => {\n    if (!currentMetrics) return null;\n    const {\n      heart_rate,\n      signal_quality,\n      status\n    } = currentMetrics;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ppg-metrics\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"metric-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Status\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `status ${status}`,\n          children: status\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this), heart_rate && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"metric-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Heart Rate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"heart-rate\",\n          children: [Math.round(heart_rate), \" BPM\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"metric-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Signal Quality\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `quality ${signal_quality}`,\n          children: signal_quality\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this);\n  };\n  const renderAnalysis = () => {\n    if (!sessionAnalysis) return null;\n    const {\n      heart_rate_metrics,\n      risk_assessment,\n      recommendations\n    } = sessionAnalysis;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"session-analysis\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Session Analysis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"analysis-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Heart Rate Metrics\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"metrics-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Mean: \", heart_rate_metrics.mean, \" BPM\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Range: \", heart_rate_metrics.range, \" BPM\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Variability: \", heart_rate_metrics.std_deviation]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"analysis-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Risk Assessment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `risk-level ${risk_assessment.risk_level.toLowerCase().replace(' ', '-')}`,\n          children: [risk_assessment.risk_level, \" (\", risk_assessment.risk_percentage, \"%)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"analysis-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Recommendations\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"recommendations\",\n          children: recommendations.map((rec, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: rec\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ppg-monitor\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ppg-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\uD83E\\uDE78 PulseHER Heart Rate Monitor\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Place your finger over the camera lens with flash enabled\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: [\"\\u274C \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ppg-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"camera-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"video\", {\n          ref: videoRef,\n          autoPlay: true,\n          muted: true,\n          className: \"camera-feed\",\n          style: {\n            display: isRecording ? 'block' : 'none'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n          ref: canvasRef,\n          style: {\n            display: 'none'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this), !isRecording && !sessionAnalysis && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"start-prompt\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\uD83D\\uDCF1 Ready to start PPG monitoring\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: startPPGSession,\n            className: \"start-button\",\n            children: \"Start Monitoring\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ppg-controls\",\n        children: isRecording ? /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: stopPPGSession,\n          className: \"stop-button\",\n          children: \"Stop Recording\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 13\n        }, this) : sessionAnalysis && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setSessionAnalysis(null),\n          className: \"reset-button\",\n          children: \"New Session\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this), isRecording && renderMetrics(), sessionAnalysis && renderAnalysis()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ppg-instructions\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83D\\uDCCB Instructions:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Place your fingertip gently over the rear camera lens\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Ensure the camera flash is on for better signal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Keep your finger steady for 30-60 seconds\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Avoid pressing too hard to maintain blood flow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Stay still and breathe normally during recording\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 246,\n    columnNumber: 5\n  }, this);\n};\n_s(PPGMonitor, \"9qGCrOWzTWiVFYEYGBRjgTfFvbs=\");\n_c = PPGMonitor;\nexport default PPGMonitor;\nvar _c;\n$RefreshReg$(_c, \"PPGMonitor\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","PPGMonitor","onMeasurementComplete","user","_s","isRecording","setIsRecording","sessionId","setSessionId","currentMetrics","setCurrentMetrics","sessionAnalysis","setSessionAnalysis","error","setError","cameraStream","setCameraStream","videoRef","canvasRef","intervalRef","API_BASE","startPPGSession","stream","navigator","mediaDevices","getUserMedia","video","width","ideal","height","facingMode","current","srcObject","response","fetch","method","headers","data","json","success","session_id","startFrameCapture","Error","err","message","console","setInterval","canvas","context","getContext","videoWidth","videoHeight","drawImage","frameData","toDataURL","split","body","JSON","stringify","frame_data","result","metrics","stopPPGSession","clearInterval","getTracks","forEach","track","stop","getSessionAnalysis","analysis","renderMetrics","heart_rate","signal_quality","status","className","children","fileName","_jsxFileName","lineNumber","columnNumber","Math","round","renderAnalysis","heart_rate_metrics","risk_assessment","recommendations","mean","range","std_deviation","risk_level","toLowerCase","replace","risk_percentage","map","rec","index","ref","autoPlay","muted","style","display","onClick","_c","$RefreshReg$"],"sources":["C:/Users/yueyu/OneDrive/CardiIQ/frontend/src/components/PPGMonitor.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport './PPGMonitor.css';\r\n\r\nconst PPGMonitor = ({ onMeasurementComplete, user }) => {\r\n  const [isRecording, setIsRecording] = useState(false);\r\n  const [sessionId, setSessionId] = useState(null);\r\n  const [currentMetrics, setCurrentMetrics] = useState(null);\r\n  const [sessionAnalysis, setSessionAnalysis] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const [cameraStream, setCameraStream] = useState(null);\r\n  const videoRef = useRef(null);\r\n  const canvasRef = useRef(null);\r\n  const intervalRef = useRef(null);\r\n\r\n  const API_BASE = 'http://localhost:5000/api';\r\n\r\n  // Start camera and PPG session\r\n  const startPPGSession = async () => {\r\n    try {\r\n      setError(null);\r\n      \r\n      // Request camera access\r\n      const stream = await navigator.mediaDevices.getUserMedia({\r\n        video: {\r\n          width: { ideal: 640 },\r\n          height: { ideal: 480 },\r\n          facingMode: 'user'\r\n        }\r\n      });\r\n      \r\n      setCameraStream(stream);\r\n      \r\n      if (videoRef.current) {\r\n        videoRef.current.srcObject = stream;\r\n      }\r\n\r\n      // Start PPG session on backend\r\n      const response = await fetch(`${API_BASE}/ppg/start-session`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        }\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        setSessionId(data.session_id);\r\n        setIsRecording(true);\r\n        \r\n        // Start capturing frames\r\n        startFrameCapture();\r\n      } else {\r\n        throw new Error(data.error);\r\n      }\r\n      \r\n    } catch (err) {\r\n      setError(`Failed to start PPG session: ${err.message}`);\r\n      console.error('PPG session error:', err);\r\n    }\r\n  };\r\n\r\n  // Capture and send frames to backend\r\n  const startFrameCapture = () => {\r\n    intervalRef.current = setInterval(async () => {\r\n      if (videoRef.current && canvasRef.current && isRecording) {\r\n        const canvas = canvasRef.current;\r\n        const context = canvas.getContext('2d');\r\n        \r\n        // Set canvas size\r\n        canvas.width = videoRef.current.videoWidth;\r\n        canvas.height = videoRef.current.videoHeight;\r\n        \r\n        // Draw current frame to canvas\r\n        context.drawImage(videoRef.current, 0, 0);\r\n        \r\n        // Convert to base64\r\n        const frameData = canvas.toDataURL('image/jpeg', 0.8).split(',')[1];\r\n        \r\n        try {\r\n          // Send frame to backend\r\n          const response = await fetch(`${API_BASE}/ppg/upload-frame`, {\r\n            method: 'POST',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n              frame_data: frameData\r\n            })\r\n          });\r\n\r\n          const result = await response.json();\r\n          \r\n          if (result.success) {\r\n            setCurrentMetrics(result.data.metrics);\r\n          }\r\n          \r\n        } catch (err) {\r\n          console.error('Frame upload error:', err);\r\n        }\r\n      }\r\n    }, 100); // Capture every 100ms (10 fps)\r\n  };\r\n\r\n  // Stop PPG session\r\n  const stopPPGSession = async () => {\r\n    try {\r\n      setIsRecording(false);\r\n      \r\n      // Stop frame capture\r\n      if (intervalRef.current) {\r\n        clearInterval(intervalRef.current);\r\n        intervalRef.current = null;\r\n      }\r\n      \r\n      // Stop camera stream\r\n      if (cameraStream) {\r\n        cameraStream.getTracks().forEach(track => track.stop());\r\n        setCameraStream(null);\r\n      }\r\n\r\n      // Stop session on backend\r\n      const response = await fetch(`${API_BASE}/ppg/stop-session`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        }\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        // Get session analysis\r\n        await getSessionAnalysis();\r\n      }\r\n      \r\n    } catch (err) {\r\n      setError(`Failed to stop PPG session: ${err.message}`);\r\n      console.error('Stop session error:', err);\r\n    }\r\n  };\r\n\r\n  // Get session analysis\r\n  const getSessionAnalysis = async () => {\r\n    try {\r\n      const response = await fetch(`${API_BASE}/ppg/analyze-session`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        }\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        setSessionAnalysis(data.analysis);\r\n        \r\n        // Call parent component's callback to save to Firebase\r\n        if (onMeasurementComplete) {\r\n          onMeasurementComplete(data.analysis);\r\n        }\r\n      }\r\n      \r\n    } catch (err) {\r\n      console.error('Analysis error:', err);\r\n    }\r\n  };\r\n\r\n  // Cleanup on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      if (cameraStream) {\r\n        cameraStream.getTracks().forEach(track => track.stop());\r\n      }\r\n      if (intervalRef.current) {\r\n        clearInterval(intervalRef.current);\r\n      }\r\n    };\r\n  }, [cameraStream]);\r\n\r\n  const renderMetrics = () => {\r\n    if (!currentMetrics) return null;\r\n\r\n    const { heart_rate, signal_quality, status } = currentMetrics;\r\n\r\n    return (\r\n      <div className=\"ppg-metrics\">\r\n        <div className=\"metric-card\">\r\n          <h3>Status</h3>\r\n          <p className={`status ${status}`}>{status}</p>\r\n        </div>\r\n        \r\n        {heart_rate && (\r\n          <div className=\"metric-card\">\r\n            <h3>Heart Rate</h3>\r\n            <p className=\"heart-rate\">{Math.round(heart_rate)} BPM</p>\r\n          </div>\r\n        )}\r\n        \r\n        <div className=\"metric-card\">\r\n          <h3>Signal Quality</h3>\r\n          <p className={`quality ${signal_quality}`}>{signal_quality}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderAnalysis = () => {\r\n    if (!sessionAnalysis) return null;\r\n\r\n    const { heart_rate_metrics, risk_assessment, recommendations } = sessionAnalysis;\r\n\r\n    return (\r\n      <div className=\"session-analysis\">\r\n        <h2>Session Analysis</h2>\r\n        \r\n        <div className=\"analysis-section\">\r\n          <h3>Heart Rate Metrics</h3>\r\n          <div className=\"metrics-grid\">\r\n            <div>Mean: {heart_rate_metrics.mean} BPM</div>\r\n            <div>Range: {heart_rate_metrics.range} BPM</div>\r\n            <div>Variability: {heart_rate_metrics.std_deviation}</div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"analysis-section\">\r\n          <h3>Risk Assessment</h3>\r\n          <div className={`risk-level ${risk_assessment.risk_level.toLowerCase().replace(' ', '-')}`}>\r\n            {risk_assessment.risk_level} ({risk_assessment.risk_percentage}%)\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"analysis-section\">\r\n          <h3>Recommendations</h3>\r\n          <ul className=\"recommendations\">\r\n            {recommendations.map((rec, index) => (\r\n              <li key={index}>{rec}</li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"ppg-monitor\">\r\n      <div className=\"ppg-header\">\r\n        <h1>ü©∏ PulseHER Heart Rate Monitor</h1>\r\n        <p>Place your finger over the camera lens with flash enabled</p>\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"error-message\">\r\n          ‚ùå {error}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"ppg-content\">\r\n        {/* Camera Section */}\r\n        <div className=\"camera-section\">\r\n          <video\r\n            ref={videoRef}\r\n            autoPlay\r\n            muted\r\n            className=\"camera-feed\"\r\n            style={{ display: isRecording ? 'block' : 'none' }}\r\n          />\r\n          <canvas ref={canvasRef} style={{ display: 'none' }} />\r\n          \r\n          {!isRecording && !sessionAnalysis && (\r\n            <div className=\"start-prompt\">\r\n              <p>üì± Ready to start PPG monitoring</p>\r\n              <button onClick={startPPGSession} className=\"start-button\">\r\n                Start Monitoring\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Controls */}\r\n        <div className=\"ppg-controls\">\r\n          {isRecording ? (\r\n            <button onClick={stopPPGSession} className=\"stop-button\">\r\n              Stop Recording\r\n            </button>\r\n          ) : (\r\n            sessionAnalysis && (\r\n              <button onClick={() => setSessionAnalysis(null)} className=\"reset-button\">\r\n                New Session\r\n              </button>\r\n            )\r\n          )}\r\n        </div>\r\n\r\n        {/* Real-time Metrics */}\r\n        {isRecording && renderMetrics()}\r\n\r\n        {/* Session Analysis */}\r\n        {sessionAnalysis && renderAnalysis()}\r\n      </div>\r\n\r\n      {/* Instructions */}\r\n      <div className=\"ppg-instructions\">\r\n        <h3>üìã Instructions:</h3>\r\n        <ol>\r\n          <li>Place your fingertip gently over the rear camera lens</li>\r\n          <li>Ensure the camera flash is on for better signal</li>\r\n          <li>Keep your finger steady for 30-60 seconds</li>\r\n          <li>Avoid pressing too hard to maintain blood flow</li>\r\n          <li>Stay still and breathe normally during recording</li>\r\n        </ol>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PPGMonitor;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}